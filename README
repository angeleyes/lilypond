THE LILYPOND.ORG WEBSITE

SOURCES

The HTML sources live in a CVS repository.  Get a fresh version here

   cvs -d :ext:anoncvs@subversions.gnu.org:/cvsroot/lilypond co newweb


BUILDING THE WEBSITE

To generate the main web site, run

    make

The scripts/format-page.py script merges the pages in the
site/template.ihtml template and handles @AT-VARIABLE@ substitutions,
and leaves the result in

    ./out/site

To generate the web site for language LANG (available: LANG), run

    make LANG  # for example:  make nl


REQUIREMENTS

    * python
    * make
    * gettext

AT-VARIABLEs

    @DEPTH@: home url prefix
    @IMAGES@: image url prefix
    @DOC@: doc url prefix

See scripts/format-page.py for full overview.


STATIC ENTRY URLS

   GNU LilyPond:       http://lilypond.org/
   Essay               http://lilypond.org/web/about/automated-engraving
   Documentation       http://lilypond.org/documentation
   (of latest stable)
   Tutorial            http://lilypond.org/tutorial
   (of latest stable)
   Glossary            http://lilypond.org/music-glossary
   of musical terms  
   (of latest stable)


DISTRIBUTION

* The format-page.py script is GPL

* Verbatim redistribution of the .html files and images is allowed and
  encouraged.


AUTOMATIC LANGUAGE SELECTION

Apache can be configured to append .LANG.html to an url, where LANG is
the user's browser preferred language.

The format-page.py script strips the .HTML from file names, but for
directory urls, that does not work.  This could be fixed by adding
'/index' to directory urls, but easier is to add an .htaccess (used on
lilypond.org):

    #.htaccess
    DirectoryIndex index



TRANSLATION

Get the sources.  See the top of README.


TRANSLATE A PAGE

Copy the file from site into your language tree

    cp site/about/index.html nl/about/index.html

Translate it, see UPDATE a TRANSLATION

Add the page to CVS

    cvs add nl/about/index.html

or send it to your CVS translation sponsor.


UPDATE A TRANSLATION

Open the HTML source file and translate all plain text, leaving markup
and URLs in tact.  Tracking changes is much easier, that way.

The best choice for non-destructive editing HTML source is probably
Mozilla Composer (the new Mozilla Firefox/Thunderbird suite does not
include an HTML editor yet).  You get to see the result and the HTML
markup codes in different TABs.  *NOTE*: be sure to tell Mozilla
Composer to leave the original markup in tact, setting

    Edit/Preferences/Composer: (X) Retain original source formatting

Of course, if you are comfortable with a texteditor (ie, not a word
processor) such as Emacs, VI, jEDIT, please use that and check the
result in your favorite browser.

If you think the original text should be changed or fixed, please do
so first, but share your suggestion before changing CVS.  Typos may be
fixed right away.


SUBMIT TO CVS

    cvs ci -m 'translation update' nl/about/index.html

If you do not have CVS write access, send your translated page to your
CVS translation sponsor, or the the lilypond-user list.


STARTING A NEW LANGUAGE

Type
    make new LANG=nl
