@c -*- coding: utf-8; mode: texinfo; documentlanguage: es -*-
@c This file is included from notation.itely
@ignore
    Translation of GIT committish: aae416a0211bad0bbed5c82b91d80a83d21e8054

    When revising a translation, copy the HEAD committish of the
    version that you are working on.  See TRANSLATION for details.
@end ignore

@node Editorial annotations
@section Editorial annotations

@lilypondfile[quote]{editorial-headword.ly}

Esta sección trata de las diversas maneras de modificar el aspecto de
las notas y de aplicar énfasis analítico o educativo.

@menu
* Inside the staff::            
* Outside the staff::           
@end menu


@node Inside the staff
@subsection Inside the staff

Esta sección trata sobre cómo aplicar énfasis a los elementos situados
dentro del pentagrama.

@menu
* Selecting notation font size::  
* Fingering instructions::      
* Hidden notes::                
* Coloring objects::            
* Parentheses::                 
* Stems::                       
@end menu

@node Selecting notation font size
@subsubsection Selecting notation font size

@cindex fuente tipográfica, tamaño 
@cindex fuente tipográfica, tamaño, seleccionar
@cindex selección del tamaño de la fuente tipográfica

El método más sencillo para establecer el tamaño de la tipografía de
cualquier contexto es mediante el ajuste de la propiedad
@code{fontSize}.

@lilypond[quote,fragment,relative=2,verbatim,ragged-right]
c4
\set fontSize = #-4
c f
\set fontSize = #3
g8 a
@end lilypond

@noindent
No modifica el tamaño de los símbolos variables como barras o
ligaduras de expresión.

@cindex fuente tipográfica, escalado del tamaño

Internamente, la propiedad de contexto @code{fontSize} produce que se
eestablezca el valor de la propiedad @code{font-size} en todos los
objetos de presentación.  El valor de @code{font-size} es un número
que indica el tamaño relativo al tamaño estándar para la altura
vigente del pentagrama.  Cada paso hacia arriba es un incremento de un
12% del tamaño de la fuente, aproximadamente.  Seis pasos son
exactamente un factor de dos.  La función de Scheme @code{magstep}
convierte un número de tamaño @code{font-size} a un factor de
escalado.  La propiedad @code{font-size} también se puede establecer
directamente, de forma que queden afectados solamente determinados
objetos gráficos.

@lilypond[quote,fragment,relative=2,verbatim,ragged-right]
c4
\override NoteHead #'font-size = #-4
c f
\override NoteHead #'font-size = #3
g8 a
@end lilypond

@cindex estándar, tamaño de la tipografía
@cindex fuente tipográfica, tamaño estándar de

Los cambios en el tamaño de la fuente se obtienen por medio del
escalado del tamaño del diseño que se encuentra más cerca del tamaño
deseado.  El tamaño estándar para la tipografía (para @code{font-size}
igual a 0), depende de la altura estándar del pentagrama.  Para un
pentagrama de 20 puntos, se selecciona una fuente de 10 puntos.

La propiedad @code{font-size} sólo se puede establecer en objetos
gráficos que utilicesn fuentes tipográficas.  Éstos son los que
contemplan el interfaz de presentación @code{font-interface}.

@predefined

Las siguientes instrucciones establecen un valor de @code{fontSize}
para la voz en curso:

@funindex \tiny
@code{\tiny},
@funindex \small
@code{\small},
@funindex \normalsize
@code{\normalsize}.

@seealso

Fragmentos de código: @lsrdir{Editorial,Editorial-annotations}.

Referencia de funcionamiento interno: @internalsref{font-interface}.

@node Fingering instructions
@subsubsection Fingering instructions

@cindex digitación
@cindex cambio de dedo

Las instrucciones de digitación se pueden introducir usando
@example
@var{nota}-@var{dígito}
@end example
Para los cambios de dedo, utilice marcas de texto.

@lilypond[quote,verbatim,ragged-right,fragment,relative=1]
c4-1 c-2 c-3 c-4
c^\markup { \finger "2 - 3" }
@end lilypond

Puede usar la articulación de pulgar para indicar que una nota se debe tocar con el pulgar
(p.ej. en música de cello)
@lilypond[quote,verbatim,ragged-right,fragment,relative=2]
<a_\thumb a'-3>8 <b_\thumb b'-3>
@end lilypond

Las digitaciones para los acordes también se pueden añadir a las notas individuales del acorde
escribiéndolas después de las alturas
@lilypond[quote,verbatim,ragged-right,fragment,relative=2]
< c-1 e-2 g-3 b-5 >4
@end lilypond


@commonprop

Puede ejercer un mayor control sobre la digitación de los acordes
estableciendo @code{fingeringOrientations}

@lilypond[quote,verbatim,ragged-right,fragment,relative=1]
\set fingeringOrientations = #'(left down)
<c-1 es-2 g-4 bes-5 > 4
\set fingeringOrientations = #'(up right down)
<c-1 es-2 g-4 bes-5 > 4
@end lilypond

Usando esta funcionalidad, también es posible poner instrucciones de digitación muy cerca de las cabezas 
de nota en música monofónica,

@lilypond[verbatim,ragged-right,quote,fragment]
\set fingeringOrientations = #'(right)
<es'-2>4
@end lilypond


@seealso

Fragmentos de código: @lsrdir{Editorial,Editorial-annotations}.

Referencia de funcionamiento interno: @internalsref{Fingering}.


@node Hidden notes
@subsubsection Hidden notes

@cindex ocultas, notas
@cindex invisibles, notas
@cindex transparentes, notas
@funindex \hideNotes
@funindex \unHideNotes

Las notas ocultas (o invisibles, o transparentes) pueden ser de utilidad en la preparación de ejercicios
de teoría o de composición.

@lilypond[quote,ragged-right,verbatim,relative=2,fragment]
c4 d
\hideNotes
e4 f
\unHideNotes
g a
\hideNotes 
b
\unHideNotes
c
@end lilypond

@predefined

@code{\hideNotes}, @code{\unHideNotes}

@seealso

Fragmentos de código: @lsrdir{Editorial,Editorial-annotations}.


@node Coloring objects
@subsubsection Coloring objects

@cindex coloreados, objetos
@cindex colores
@cindex colorear objects
@cindex coloreadas, notas
@cindex colorear notas
@cindex notas, coloreadas

Se pueden asignar colores a los objetos individuales.  Podemos usar los nombres de color
que se relacionan en la @ref{List of colors}.

@lilypond[quote,ragged-right,verbatim,fragment,relative=1]
\override NoteHead #'color = #red
c4 c
\override NoteHead #'color = #(x11-color 'LimeGreen)
d
\override Stem #'color = #blue
e
@end lilypond

Se puede acceder al espectro completo de colores definido para X11 usando la función
de Scheme x11-color.  Esta función acepta un argumento que puede ser un
símbolo

@example
\override Beam #'color = #(x11-color 'MediumTurquoise)
@end example

o una cadena

@example
\override Beam #'color = #(x11-color "MediumTurquoise")
@end example

La primera forma es más rápida de escribir y más eficiente.  Sin embargo,
es posible usar la segunda forma para acceder a los colores de X11 a través de la variante del
nombre que tiene varias palabras

@example
\override Beam #'color = #(x11-color "medium turquoise")
@end example

Si el parámetro no tiene sentido para x11-color, el color por defecto que se devuelve
es el negro.  Debería ser obvio, a la vista de la partitura resultante, que algo está
mal.

Este ejemplo ilustra el uso de x11-color.  Tenga en cuenta que el color de la plica
sigue siendo negro después de haberlo establecido a (x11-color 'Boggle), que es un color sin sentido
escrito a propósito.

@lilypond[quote,ragged-right,verbatim]
{
  \override Staff.StaffSymbol #'color = #(x11-color 'SlateBlue2)
  \set Staff.instrumentName = \markup {
    \with-color #(x11-color 'navy) "Clarinet"
  }
  \time 2/4
  gis''8 a''
  \override Beam #'color = #(x11-color "medium turquoise")
  gis'' a''
  \override NoteHead #'color = #(x11-color "LimeGreen")
  gis'' a''
  \override Stem #'color = #(x11-color 'Boggle)
  gis'' a''
}
@end lilypond


@seealso

Apéndice: @ref{List of colors}.


@knownissues
En un navegador de web, no todos los colores de x11 se distinguen entre sí.  Para su utilización en la
web se recomiendan los colores normales.

Un color de x11 no es necesariamente de la misma tonalidad que un color normal
con un nombre similar.

Las notas de un acorde no se pueden colorear con @code{\override}; en su lugar utilice
@code{\tweak}.  Consulte @ref{Objects connected to the input}
para ver más detalles.


@node Parentheses
@subsubsection Parentheses

@cindex fantasma, notas
@cindex notas fantasma
@cindex notas entre paréntesis

Los objetos se pueden encerrar entre paréntesis anteponiendo @code{\parenthesize} al evento
musical,

@lilypond[relative=2,fragment,verbatim,ragged-right]
<
  c
  \parenthesize d
  g
>4-\parenthesize -.
@end lilypond

Esto sólo funciona dentro de los acordes, incluso para notas sueltas

@example
< \parenthesize NOTA>
@end example


@node Stems
@subsubsection Stems

Cuando se encuentra con una nota, se crea un objeto
@internalsref{Stem} (plica) automáticamente.  Para las redondas y los
silencios, también se crean pero se hacen invisibles.

@predefined

@funindex \stemUp
@code{\stemUp},
@funindex \stemDown
@code{\stemDown},
@funindex \stemNeutral
@code{\stemNeutral}.


@commonprop

Para modificar la dirección de las plicas en medio de un pentagrama, utilice

@lilypond[quote,ragged-right,fragment,relative=2,verbatim]
a4 b c b
\override Stem #'neutral-direction = #up
a4 b c b
\override Stem #'neutral-direction = #down
a4 b c b
@end lilypond


@node Outside the staff
@subsection Outside the staff


@menu
* Balloon help::                
* Grid lines::                  
* Analysis brackets::           
@end menu

@node Balloon help
@subsubsection Balloon help

Los elementos de notación se pueden marcar y nombrar con la ayuda de un cartel o globo de ayuda
rectangular.  El propósito principal de esta funcionalidad es la explicación de la notación.

El ejemplo siguiente presenta una demostración de su uso.

@lilypond[quote,verbatim,fragment,ragged-right,relative=2]
\new Voice \with { \consists "Balloon_engraver" }
{
  \balloonGrobText #'Stem #'(3 . 4) \markup { "I'm a Stem" }
  <c-\balloonText #'(-2 . -2) \markup { Hello }  >8
}
@end lilypond

@noindent
Existen dos funciones musicales, @code{balloonText} y
@code{balloonGrobText}. Este último toma su nombre del objeto gráfico que se adorna,
mientras que el primero se puede usar como una articulación sobre una nota.
Los otros argumentos son el desplazamiento y el texto de la etiqueta.

@cindex globo
@cindex notación, explicaciones

@seealso

Referencia del programa: @internalsref{text-balloon-interface}.


@node Grid lines
@subsubsection Grid lines

Se pueden dibujar líneas verticales, sincronizadas con las notas, entre
pentagramas.

@lilypond[ragged-right,quote,verbatim]
\layout {
  \context {
    \Staff
    \consists "Grid_point_engraver" %% sets of grid
    gridInterval = #(ly:make-moment 1 4)
  }
}

\new Score \with {
  \consists "Grid_line_span_engraver"
  %% centers grid lines  horizontally below noteheads
  \override NoteColumn #'X-offset = #-0.5
}

\new ChoirStaff <<
  \new Staff {
    \stemUp
    \relative {
      c'4. d8 e8 f g4
    }
  }
  \new Staff {
    %% centers grid lines  vertically
    \override Score.GridLine #'extra-offset = #'( 0.0 . 1.0 )
    \stemDown
    \clef bass
    \relative c {
      c4  g'  f  e
    }
  }
>>
@end lilypond

Ejemplos: @lsrdir{education}


@node Analysis brackets
@subsubsection Analysis brackets

@cindex corchetes
@cindex fraseo, corchetes de
@cindex musicológico, análisis
@cindex notas, corchetes de agrupación de

Los corchetes se usan en análisis musical para indicar las estructuras presentes en las piezas
musicales.  LilyPond contempla una forma básica de corchetes horizontales anidados.
Para usarlos, añada el grabador @internalsref{Horizontal_bracket_engraver}
al contexto @internalsref{Staff}.  Un corchete se abre con
@code{\startGroup} y se cierra con @code{\stopGroup}

@lilypond[quote,ragged-right,verbatim]
\score {
  \relative c'' {
    c4\startGroup\startGroup
    c4\stopGroup
    c4\startGroup
    c4\stopGroup\stopGroup
  }
  \layout {
    \context {
      \Staff \consists "Horizontal_bracket_engraver"
}}}
@end lilypond

@seealso

Fragmentos de código: @lsrdir{Editorial,Editorial-annotations}.

Referencia de funcionamiento interno: @internalsref{HorizontalBracket},
@internalsref{Horizontal_bracket_engraver}, @internalsref{Staff}.



