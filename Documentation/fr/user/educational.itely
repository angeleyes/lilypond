@c -*- coding: utf-8; mode: texinfo; -*-
@ignore
    Translation of GIT committish: f7420240e4ce1fe2217646482a47d00f566af52c

    When revising a translation, copy the HEAD committish of the
    version that you are working on.  See TRANSLATION for details.
@end ignore

@node Educational use
@section Educational use

@menu
* Note heads::                  
* Inside the staff::            
* Outside the staff::           
@end menu


@node Note heads
@subsection Note heads

@menu
* Easy notation note heads::    
* Shape note heads::            
* Improvisation::               
* Special noteheads::           
@end menu

@node Easy Notation note heads
@unnumberedsubsubsec Easy Notation note heads

@cindex tête de note, apprentissage
@cindex notation facile
@cindex Hal Leonard

Les notes @q{easy play} comportent le nom de la note à l'intérieur de
la tête.  On l'utilise dans des partitions pour débutants.

@lilypond[quote,ragged-right,verbatim,fragment,staffsize=26]
  \setEasyHeads
  c'2 e'4 f' | g'1
@end lilypond

La commande @code{\setEasyHeads} remplace tous les réglages de l'objet
@internalsref{NoteHead}.  L'impression doit être de plus grande
taille, afin que les lettres soient lisibles.  Voir à ce propos
@ref{Setting the staff size}.

@refcommands

@funindex \setEasyHeads
@code{\setEasyHeads}


@node Shape note heads
@unnumberedsubsubsec Shape note heads

@cindex tête de note, allure

En notation profilée, le profil d'une tête de note correspond à la
fonction harmonique de cette note dans la gamme.  Ce style de notation
était très en vogue dans les recueils de chansons américains du XIXe
siècle. 

Des notes profilées sont produites après activation de
@code{\aikenHeads} ou @code{\sacredHarpHeads}, selon le style.

@lilypond[verbatim,relative=1,fragment]
  \aikenHeads
  c8 d4 e8 a2 g1
  \sacredHarpHeads
  c8 d4. e8 a2 g1
@end lilypond

Les profils sont déterminés par la hauteur dans la gamme, le premier
degré étant défini par la commande @code{\key}. 

@funindex \key
@funindex shapeNoteStyles
@funindex \aikenHeads
@funindex \sacredHarpHeads

Les notes profilées sont mises en œuvre par la propriété
@code{shapeNoteStyles}, dont les valeurs sont constituées d'une liste
de symboles.  Le n-ième élément indique le style à utiliser pour le
n-ième degré de la gamme.  Toutes les combinaisons sont possibles :

@lilypond[verbatim,relative=1,fragment]
  \set shapeNoteStyles  = ##(cross triangle fa #f mensural xcircle diamond)
  c8 d4. e8 a2 g1
@end lilypond


@node Improvisation
@unnumberedsubsubsec Improvisation

L'improvisation peut quelquefois s'indiquer à l'aide de notes de forme
allongée (@emph{slash}).  Ces têtes de notes sont créées  par
l'adjonction du graveur @internalsref{Pitch_squash_engraver} au
contexte @internalsref{Voice}, de telle sorte que la commande

@example
\set squashedPosition = #0
\override NoteHead #'style = #'slash
@end example

@noindent
active les notes penchées.

Vous disposez des raccourcis @code{\improvisationOn} et son corollaire
@code{\improvisationOff} pour cette séquence, comme l'illustre
l'exemple ci dessous.

@lilypond[verbatim,ragged-right,quote]
\new Voice \with {
  \consists Pitch_squash_engraver
} \transpose c c' {
  e8 e g a a16(bes)(a8) g \improvisationOn
  e8
  ~e2~e8 f4 fis8
  ~fis2 \improvisationOff a16(bes) a8 g e
}
@end lilypond


@node Special noteheads
@unnumberedsubsubsec Special noteheads

@cindex têtes de note, spéciales

Certains instruments utilisent des têtes de note différentes à des
fins spécifiques --- des croix pour le @q{parlato} des chanteurs ou les
notes étouffées des guitares ; des losanges pour les harmoniques des
cordes.  Il existe un raccourci (@code{\harmonic}) pour les notes en
losange ; pour les autres styles de tête, il vous faudra jouer avec la
propriété @code{NoteHead}.

@lilypond[ragged-right,relative=1,fragment,verbatim,quote]
c4 d
\override NoteHead #'style = #'cross
e f
\revert NoteHead #'style
e d <c f\harmonic> <d a'\harmonic>
@end lilypond

@noindent
Pour une liste exhaustive des styles de tête de note, consultez 
@ref{Note head styles}.


@seealso

Référence du programme : @internalsref{NoteHead}.


@node Inside the staff
@subsection Inside the staff


@menu
* Selecting notation font size::  
* Fingering instructions::      
* Hidden notes::                
* Coloring objects::            
* Parentheses::                 
* Ambitus::                     
* Stems::                       
@end menu

@node Selecting notation font size
@unnumberedsubsubsec Selecting notation font size

Le plus sûr moyen de régler la taille de la police, quelque soit le
contexte, consiste à définir la propriété @code{fontSize}.

@lilypond[quote,fragment,relative=1,verbatim]
c8
\set fontSize = #-4
c f
\set fontSize = #3
g
@end lilypond

@noindent
Ceci ne modifiera en rien la taille des différents symboles tels que
ligatures ou liaisons.

En interne, la propriété @code{fontSize} d'un contexte aura pour effet
de définir la propriété @code{font-size} pour tous les objets de
rendu.  La valeur de @code{font-size} est un entier représentant la
taille proportionnellement à la hauteur standard de la portée en
cours.  Chaque incrément correspond à une augmentation d'environ
12@tie{}% de la taille de la police. Un pas de six aboutit exactement
au doublement de la taille.  La fonction Scheme @code{magstep}
convertit le nombre affecté à @code{font-size} en facteur d'échelle.
Vous pouvez aussi définir directement la propriété @code{font-size} de
manière à n'affecter seulement que certains objets de rendu.

@lilypond[quote,fragment,relative=1,verbatim]
c8
\override NoteHead #'font-size = #-4
c f
\override NoteHead #'font-size = #3
g
@end lilypond

Pour changer la taille des symboles musicaux (police Feta), LilyPond met
à l'échelle la fonte dont la taille est la plus proche de la taille voulue ---
cf. @ref{Setting the staff size}.  La taille standard, pour laquelle
@code{font-size} vaut 0, dépend de la hauteur de la portée.  À une
portée de 20 points correspond une police de 10 points.

La propriété @code{font-size} ne peut intervenir que pour les objets
qui utilisent des polices, autrement dit ceux qui disposent de
l'interface de rendu @internalsref{font-interface}.

@refcommands

Les commandes suivantes définissent @code{fontSize} pour la voix en
cours :

@funindex \tiny
@code{\tiny},
@funindex \small
@code{\small},
@funindex \normalsize
@code{\normalsize}.



@node Fingering instructions
@unnumberedsubsubsec Fingering instructions

@cindex doigté
@cindex substitution de doigt


Les doigtés peuvent être indiqués comme suit :
@example
@var{note}-@var{chiffre_du_doigt}
@end example
Pour les substitutions de doigts, on a recours à une indication
textuelle (commande @code{\markup}) de doigté
(commande @code{\finger}).

@lilypond[quote,verbatim,ragged-right,fragment,relative=1]
c4-1 c-2 c-3 c-4
c^\markup { \finger "2 - 3" }
@end lilypond


La commande @code{\thumb} peut être utilisée pour indiquer, par exemple
dans une partition de violoncelle, si une note doit être jouée avec le
pouce (@q{thumb} en anglais).

@lilypond[quote,verbatim,ragged-right,fragment,relative=2]
<a_\thumb a'-3>8 <b_\thumb b'-3>
@end lilypond


Les doigtés des accords peuvent être saisis note par note,
en les indiquant après chaque hauteur de note.

@lilypond[quote,verbatim,ragged-right,fragment,relative=2]
< c-1 e-2 g-3 b-5 >4
@end lilypond


@commonprop

On peut contrôler précisément les doigtés des accords en réglant
la propriété @code{fingeringOrientations}.

@lilypond[quote,verbatim,ragged-right,fragment,relative=1]
\set fingeringOrientations = #'(left down)
<c-1 es-2 g-4 bes-5 > 4
\set fingeringOrientations = #'(up right down)
<c-1 es-2 g-4 bes-5 > 4
@end lilypond


Cette propriété permet également, dans de la musique monophonique,
d'indiquer des doigtés très proches des têtes de notes.

@lilypond[verbatim,ragged-right,quote,fragment]
\set fingeringOrientations = #'(right)
<es'-2>4
@end lilypond


@seealso

Référence du programme : @internalsref{Fingering}.

D'autres exemples : @lsr{expressive,fingering-chords.ly}.


@node Hidden notes
@unnumberedsubsubsec Hidden notes

@cindex Masquées, notes
@cindex Invisibles, notes
@cindex Transparentes, notes

@funindex \hideNotes
@funindex \unHideNotes
Les notes masquées --- ou invisibles ou encore transparentes --- sont
utiles dans le cadre d'exercices de théorie ou de composition.

@lilypond[quote,ragged-right,verbatim,relative=2,fragment]
c4 d4
\hideNotes
e4 f4
\unHideNotes
g4 a
@end lilypond


@node Coloring objects
@unnumberedsubsubsec Coloring objects

Des objets peuvent être colorisés individuellement.  Une listes des
noms des couleurs disponibles se trouvent à l'annexe @ref{List of colors}.

@lilypond[quote,ragged-right,verbatim,fragment,relative=1]
\override NoteHead #'color = #red
c4 c
\override NoteHead #'color = #(x11-color 'LimeGreen)
d
\override Stem #'color = #blue
e
@end lilypond

L'intégralité de la palette des couleurs définies pour X11 est
accessible par la fonction Scheme x11-color.  Cette fonction prend
en argument une expression symbolique

@example
\override Beam #'color = #(x11-color 'MediumTurquoise)
@end example

ou une chaîne de caractères

@example
\override Beam #'color = #(x11-color "MediumTurquoise")
@end example

La première formulation est à la fois plus rapide à écrire et aussi
plus efficace.  Néanmoins, la deuxième forme permet d'accéder aux noms
composés des couleurs de X11.

@example
\override Beam #'color = #(x11-color "medium turquoise")
@end example

Lorsque la fonction x11-color ne trouve pas le paramètre fourni, elle
revient à la couleur par défaut, le noir.  Le problème ressort de
façon évidente au vu de la partition finale.

L'exemple suivant illustre l'utilisation de la fonction
@code{x11-color}.  Notez que, après avoir été définie à (x11-color
'Boggle), la couleur des hampes repasse au noir.

@lilypond[quote,ragged-right,verbatim]
{
  \override Staff.StaffSymbol #'color = #(x11-color 'SlateBlue2)
  \set Staff.instrumentName = \markup {
    \with-color #(x11-color 'navy) "Clarinet"
  }
  \time 2/4
  gis''8 a''
  \override Beam #'color = #(x11-color "medium turquoise")
  gis'' a''
  \override NoteHead #'color = #(x11-color "LimeGreen")
  gis'' a''
  \override Stem #'color = #(x11-color 'Boggle)
  gis'' a''
}
@end lilypond


@seealso

Annexes : @ref{List of colors}.


@refbugs
Les couleurs de X11 ne sont pas toutes perceptibles dans un navigateur
internet.  Aussi nous vous recommandons, dans le cadre d'une
présentation multimedia, d'utiliser des couleurs de base.

Une couleur x11 n'aura pas forcément le même rendu qu'une couleur
normale ayant un nom similaire.

Vous ne pouvez pas coloriser des notes à l'intérieur d'un accord avec
@code{\override}. si besoin est, utilisez @code{\tweak}.  
Pour plus de détails, consultez @ref{Objects connected to the input}.


@node Parentheses
@unnumberedsubsubsec Parentheses

@cindex fantômes, notes
@cindex notes fantômes
@cindex parenthèses, notes entre

Des objets peuvent être mis entre parenthèses en saisissant
@code{\parenthesize} juste avant l'événement musical.

@lilypond[relative=2,fragment,verbatim,ragged-right]
<
  c
  \parenthesize d
  g
>4-\parenthesize -.
@end lilypond

Ceci n'est opérationnel que dans le cadre d'un accord, qui peut ne
comprendre qu'une seule note.

@example
< \parenthesize NOTE>
@end example


@node Ambitus
@unnumberedsubsubsec Ambitus
@cindex ambitus

L'@emph{ambitus} est l'amplitude des hauteurs d'une voix donnée dans une
partition.  Ce terme peut aussi désigner la tessiture qu'un instrument
est capable d'atteindre.  Souvent, cet ambitus est imprimé au début des
partitions vocales, afin que les exécutants puissent voir au premier
coup d'oeil s'ils sont en mesure de tenir la partie en question.

Pour exprimer l'ambitus d'une pièce, on indique avant la clé deux notes
représentant la hauteur la plus basse et la plus haute.  Pour imprimer
cet ambitus, il faut ajouter le graveur @internalsref{Ambitus_engraver}
au contexte @internalsref{Voice}.  Ainsi,

@example
\layout @{
  \context @{
    \Voice
    \consists Ambitus_engraver
  @}
@}
@end example

@noindent
donne pour résultat

@lilypond[quote,ragged-right]
\layout {
  \context {
    \Staff
    \consists Ambitus_engraver
  }
}

\relative \new Staff {
  as'' c e2 cis,2
}
@end lilypond

Si plusieurs voix se trouvent sur une même portée, on peut attribuer le
graveur @internalsref{Ambitus_engraver} au contexte @internalsref{Staff}
plutôt qu'au contexte @internalsref{Voice} ; l'ambitus affiché sera
alors celui de toutes les voix cumulées, non d'une seule des voix
actives.

@lilypond[verbatim,ragged-right,quote]
\new Staff \with {
  \consists "Ambitus_engraver"
}
<<
  \new Voice \with {
    \remove "Ambitus_engraver"
  } \relative c'' {
    \override Ambitus #'X-offset = #-1.0
    \voiceOne
    c4 a d e f2
  }
  \new Voice \with {
    \remove "Ambitus_engraver"
  } \relative c' {
    \voiceTwo
    es4 f g as b2
  }
>>
@end lilypond

@noindent
Cet exemple met en œuvre une fonctionnalité avancée :

@example
\override Ambitus #'X-offset = #-1.0
@end example

@noindent
Ce réglage déplace l'ambitus vers la gauche.  Le même résultat aurait pu
être obtenu avec @code{extra-offset}, mais alors le système de mise en
forme n'aurait pas attribué d'espace supplémentaire pour l'objet
déplacé.

@seealso

Référence du programme : @internalsref{Ambitus},
@internalsref{AmbitusLine}, @internalsref{AmbitusNoteHead},
@internalsref{AmbitusAccidental}.

Exemples :
@lsr{vocal,ambitus@/.ly}.

@refbugs

LilyPond ne gère pas les collisions entre plusieurs ambitus présents sur
une même portée.


@node Stems
@unnumberedsubsubsec Stems

Dès qu'une note est rencontrée, un objet @internalsref{Stem} se crée
automatiquement.  Pour les rondes et les silences, ils sont aussi
créés, mais en mode invisible.

@refcommands

@funindex \stemUp
@code{\stemUp},
@funindex \stemDown
@code{\stemDown},
@funindex \stemNeutral
@code{\stemNeutral}.


@commonprop

Pour changer la direction des hampes au milieu de la portée, utilisez

@lilypond[quote,ragged-right,fragment,relative=2,verbatim]
a4 b c b
\override Stem #'neutral-direction = #up
a4 b c b
\override Stem #'neutral-direction = #down
a4 b c b
@end lilypond


@node Outside the staff
@subsection Outside the staff


@menu
* Balloon help::                
* Grid lines::                  
* Blank music sheet::           
@end menu

@node Balloon help
@subsection Balloon help

Vous pouvez marquer et nommer des éléments de notation à l'aide de
bulles.  L'objectif premier de cette fonctionnalité est d'expliquer la
notation. 

En voici un exemple :
@c KEEP LY
@lilypond[quote,verbatim,fragment,ragged-right,relative=2]
\new Voice \with { \consists "Balloon_engraver" }
{
  \balloonGrobText #'Stem #'(3 . 4) \markup { "Je suis une hampe" }
  <c-\balloonText #'(-2 . -2) \markup { Hello }  >8
}
@end lilypond

@noindent
Vous disposez de deux fonctions musicales, @code{balloonText} et
@code{balloonGrobText}.  @code{balloonGrobText} prend en argument
l'objet graphique à agrémenter, alors que @code{balloonText} s'utilise
comme une simple articulation.  Les autres arguments sont le décalage
et le texte de la bulle.

@cindex bulles
@cindex notation, expliquer

@seealso

Référence du programme : @internalsref{text-balloon-interface}.


@node Grid lines
@subsection Grid lines

Vous pouvez tracer des lignes entre les portées, synchronisées avec
les notes.
@c KEEP LY
@lilypond[ragged-right,quote,verbatim]
\layout {
  \context {
    \Staff
    \consists "Grid_point_engraver" %% active les guides
    gridInterval = #(ly:make-moment 1 4)
  }
}

\new Score \with {
  \consists "Grid_line_span_engraver"
  %% centre les lignes guides horizontalement sous les notes
  \override NoteColumn #'X-offset = #-0.5
}

\new ChoirStaff <<
  \new Staff {
    \stemUp
    \relative {
      c'4. d8 e8 f g4
    }
  }
  \new Staff {
    %% centre les lignes guides verticalement
    \override Score.GridLine #'extra-offset = #'( 0.0 . 1.0 )
    \stemDown
    \clef bass
    \relative c {
      c4  g'  f  e
    }
  }
>>
@end lilypond

Exemples : @lsrdir{education}


@node Blank music sheet
@subsection Blank music sheet

@cindex Papier musique
@cindex Portées, feuille blanche

Une feuille de papier musique s'obtient en utilisant des notes
invisibles, et en invalidant le @code{Bar_number_engraver}.

@c KEEP LY
@lilypond[quote,verbatim]
\layout{ indent = #0 }
emptymusic = {
  \repeat unfold 2 % À modifier pour plus de lignes.
  { s1\break }
  \bar "|."
}
\new Score \with {
  \override TimeSignature #'transparent = ##t
% décommenter la  ligne suivante selon besoin
%  \override Clef #'transparent = ##t
  defaultBarType = #""
  \remove Bar_number_engraver
} <<

% à adapter selon les portées désirées
  \new Staff \emptymusic
  \new TabStaff \emptymusic
>>
@end lilypond


