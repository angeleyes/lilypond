% -*-LaTeX-*-
\documentclass{article}

\title{LilyPond feature test}
\author{Han-Wen Nienhuys}
\begin{document}
\maketitle

This document tries give an brief overview of LilyPond features. When
the text correspond with the shown notation, we consider LilyPond
Officially BugFree (tm).

\section{Notes and rests} 

Rests.  Note that the dot of 8th, 16th and 32nd rests rest should be
next to the top of the rest.  All rests except the whole rest are
centered on the middle staff line.  

\mudelafile{rest.fly}

Note head shapes are settable.  The stem endings should be adjusted
per note head.  If you want different note head styles on one stem,
you must create a special context called Thread.

\mudelafile{noteheadstyle.ly}

Multiple measure rests do not collide with barlines and clefs.  They
are not expanded when you set Score.SkipBars

\mudelafile{multi-measure-rest.ly}

\section{Stems}

Stem tremolos (official naming?) or rolls are tremolo signs that look
like beam segments crossing stems.  If the stem is in a beam, the
tremolo must be parallel to the beam.  If the stem is invisible
(eg. on a whole note), the tremolo must be centered on the note.

\mudelafile{stem-tremolo.ly}


\section{Beams, slurs and other spanners}

%Beams should not interfere with various items on the staff (amongst
%others repeat signs)
%
% \mud elafile{beam-repeat.ly}

Beams can be typeset over fixed distance aligned staffs, beam
beautification doesn't really work, but knees do. Beams should be
behave well, whereever the switching point is.

\mudelafile{beam-interstaff.ly}

The same goes for slurs. They behave decently when broken across
linebreak.

\mudelafile{slur-interstaff.ly}

Tuplets are indicated by a bracket with a number.  There should be no
bracket if there is one beam that matches  the length of the tuplet.
The bracket does not interfere with the stafflines, and the number is
centered in the gap in the bracket.

\mudelafile{tup.ly}

\section{Multiple notes}

Rests should not collide with beams, stems and noteheads.  Rests may
be under beams.  Rests should be move by integral number of spaces
inside the staff, and by half spaces outside.  Notice that the half
and whole rests just outside the staff get ledger lines in different
cases.


\mudelafile{rest-collision.ly}

Normal collisions. We have support for four voice polyphony, where the
middle voices are horizontally shifted in a limited number of cases.

\mudelafile{collisions.ly}

The number of stafflines of a staff can be set with the property
numberOfStaffLines.  Ledger lines both on note heads and rests are adjusted.

\mudelafile{number-staff-lines.fly}

\section{Global stuff}

Markings that are attached to (invisible) barlines are 
delicate: the are attached to the rest of the score without the score
knowing it.  Consequently, they fall over  often.

\mudelafile{bar-scripts.ly}

Staff margins are also markings attached to barlines.  They should be
left otf the staff, and be centered vertically wrt the staff.  They
may be on normal staffs, but also on compound staffs, like the
PianoStaff

\mudelafile{staff-margin.ly}


\section{Clefs and Time Signatures}

The transparent clef should not occupy any space and with style
\texttt{fullSizeChanges}, the changing clef should be typeset in full
size. For octaviated clefs, the ``8'' should appear closely above or
below the clef respectively.  The ``8'' is processed in a rather
convoluted way, so this is fragile as well.

\mudelafile{clefs.ly}

By default, time signatures are written with two numbers. With style
``C'', 4/4 and 2/2 are written with their corresponding symbols and
with style ``old'', 2/2, 3/2, 3/4, 4/4, 6/4, 9/4, 6/8 and 9/8 are
typeset with symbols, all other signatures retain the default layout.
The style ``1'', gives single number signatures for all signatures.

\mudelafile{time.fly}

\end{document}
