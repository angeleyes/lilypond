# -*-python-*-

import glob
import os

Import ('env')
here = os.getcwd ()
reldir = str (Dir ('.').srcnode ())
os.chdir (reldir)
sources = glob.glob ('*.cc')
includes = glob.glob ('include/*.hh')
os.chdir (here)
outdir = os.path.join (env['build'], reldir, env['out'])

name = 'flower'
e = env.Copy ()
e.Append (CPPPATH = [outdir, 'include'])
if env['static']:
	e.Library (name, sources) 
if not env['static'] or env['shared']:
	e.SharedLibrary (name, sources)

#testing
all_sources = ['SConscript',] + sources + includes 
x = env.Tar (env['tarball'], all_sources)
