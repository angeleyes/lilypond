%
% ideally, we should create a LaTeX/TeX class
% for setting music in different sizes.
%
% Version 0.1
%
\input lilyponddefs
\def\EndLilyPondOutput{\endinput}
%
\def\thetitle{}
\def\thesubtitle{}
\def\thecomposer{}
\def\thearranger{}
\def\theinstrument{}
\def\theopus{}
\def\thepiece{}
\def\themeter{}
\def\thepoet{}
\def\theheader{}
\def\thefooter{}
\def\theorchestralinstrument{}
%
% duh.  LaTeX has a \title too.
\renewcommand*{\title}[1]{\def\thetitle{#1}}
\newcommand*{\subtitle}[1]{\def\thesubtitle{#1}}
\newcommand*{\composer}[1]{\def\thecomposer{#1}}
\newcommand*{\arranger}[1]{\def\thearranger{#1}}
\newcommand*{\instrument}[1]{\def\theinstrument{#1}}
\newcommand*{\opus}[1]{\def\theopus{#1}}
\newcommand*{\piece}[1]{\def\thepiece{#1}}
\newcommand*{\meter}[1]{\def\themeter{#1}}
\newcommand*{\poet}[1]{\def\thepoet{#1}}
%
\newcommand*{\mudelatitle}[1]{\def\thetitle{#1}}
\newcommand*{\mudelasubtitle}[1]{\def\thesubtitle{#1}}
\newcommand*{\mudelafooter}[1]{\def\thefooter{#1}}
\newcommand*{\mudelahead}[1]{\def\theheader{#1}}
\newcommand*{\mudelacomposer}[1]{\def\thecomposer{#1}}
\newcommand*{\mudelaarranger}[1]{\def\thearranger{#1}}
\newcommand*{\mudelainstrument}[1]{\def\theinstrument{#1}}
\newcommand*{\mudelaopus}[1]{\def\theopus{#1}}
\newcommand*{\mudelapiece}[1]{\def\thepiece{#1}}
\newcommand*{\mudelametre}[1]{\def\themeter{#1}}
\newcommand*{\mudelameter}[1]{\def\themeter{#1}}
\newcommand*{\mudelapoet}[1]{\def\thepoet{#1}}
%
%
\def\mudelanull{}%
%
\def\makelilytitle{%
  \begin{center}
        \bfseries
        \ifx\mudelanull\thetitle\else{\huge\thetitle}\\ \fi
        \ifx\mudelanull\thesubtitle\else{\Large\thesubtitle}\\ \fi
  \end{center}
  \bigskip
  % urg
  \edef\saveparskip{\parskip}\parskip-5mm
  \begin{minipage}[t]{0.45\textwidth}
        \ifx\mudelanull\thepoet\else{\thepoet}\\ \fi
        \ifx\mudelanull\themeter\else{\themeter}\\ \fi
  \end{minipage}\hspace*{\fill}
  \begin{minipage}[t]{0.45\textwidth}
      \begin{flushright}
          \ifx\mudelanull\thecomposer\else{\large\normalfont\scshape\thecomposer}\\ \fi
          \ifx\mudelanull\theopus\else{\theopus}\\ \fi
          \ifx\mudelanull\thearranger\else{\thearranger}\\ \fi
        \end{flushright}%
  \end{minipage}\par
  \parskip\saveparskip
  {\center{\large\theinstrument}\par}
  {\flushleft{\large\normalfont\scshape\thepiece}\par}
%  \leavevmode
  \global\let\theopus\relax%
  \global\let\thepiece\relax%
}
\def\makelilypiecetitle
{
  \bigskip
  {\flushright{\theopus}\par}
  {\flushleft{\large\normalfont\scshape\thepiece}\par}
  \global\let\theopus\relax%
  \global\let\thepiece\relax%
}
\endinput

