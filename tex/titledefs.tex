%
% LilyPond titling for LaTeX
%
\def\makelilypondtitle
{
  \begin{center}
        \bfseries
        \ifx\lilypondtitle\undefined\else{\huge\lilypondtitle}\\ \fi
        \ifx\lilypondsubtitle\undefined\else{\Large\lilypondsubtitle}\\ \fi
        \ifx\lilypondsubsubtitle\undefined\else{\large\lilypondsubsubtitle}\\ \fi
  \end{center}
  \bigskip
  % urg
  \edef\saveparskip{\parskip}\parskip-5mm
  \begin{minipage}[t]{0.45\textwidth}
        \ifx\lilypondpoet\undefined\else{\lilypondpoet}\\ \fi
        \ifx\lilypondmeter\undefined\else{\lilypondmeter}\\ \fi
  \end{minipage}\hspace*{\fill}
  \begin{minipage}[t]{0.45\textwidth}
      \begin{flushright}
          \ifx\lilypondcomposer\undefined\else{\large\normalfont\scshape\lilypondcomposer}\\ \fi
          \ifx\lilypondopus\undefined\else{\lilypondopus}\\ \fi
          \ifx\lilypondarranger\undefined\else{\lilypondarranger}\\ \fi
        \end{flushright}%
  \end{minipage}\par
  \parskip\saveparskip
  \ifx\lilypondinstrument\undefined\else{\center{\large\lilypondinstrument}\par}\fi
  \ifx\lilypondpiece\undefined\else{\flushleft{\large\normalfont\scshape\lilypondpiece}\par}\fi
%  \leavevmode
  \global\let\lilypondopus\relax%
  \global\let\lilypondpiece\relax%
}
%
\def\makelilypondpiecetitle
{
  \bigskip\myfilbreak
  \ifx\lilypondopus\undefined\else{\flushright{\lilypondopus}\par}\fi
  \ifx\lilypondpiece\undefined\else{\flushleft{\large\normalfont\scshape\lilypondpiece}\par}\fi
  \nopagebreak%
  \global\let\lilypondopus\relax%
  \global\let\lilypondpiece\relax%
}
\endinput

