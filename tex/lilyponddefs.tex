%%
%% include file for LilyPond
%%
%% this file defines various macros to accomodate lilypond output
%%
%% let's not make par before endinput
%
% TeXbook ex 7.7
\def\ifundefined#1{\expandafter\ifx\csname#1\endcsname\relax}
%
% skip if included already
\def\SkipLilydefs{\endinput}
\ifundefined{EndLilyPondOutput}
        \def\EndLilyPondOutput{\csname bye\endcsname}
        \def\SkipLilydefs{}
\fi
\SkipLilydefs

% need to do some stuff to turn pagenumbering off
\ifundefined{documentclass}
        \input lilypond-plaintex
\else
        \input lilypond-latex
\fi


%
\def\botalign#1{\vbox to 0pt{\vss #1}}
\def\leftalign#1{\hbox to 0pt{#1\hss}}
\font\textmusic=cmmi10
\def\textsharp{\raise.4ex\hbox{\textmusic\char"5D}}
\def\textnatural{\raise.4ex\hbox{\textmusic\char"5C}}
\def\textflat{\raise.2ex\hbox{\textmusic\char"5B}}




% stacked horizontal lines
\def\interscoreline{\vskip 16pt}
\def\placebox#1#2#3{%
        \botalign{\hbox{\raise #1\leftalign{\kern #2{}#3}}}}%
\input lily-ps-defs
\def\EndLilyPondOutput{%
  \csname bye\endcsname
}
\def\postheader{}

% need to do some stuff to turn pagenumbering off
% they seriously mess up  your fragments.

\ifx\csname nolilyfooter\endcsname\relax
        \message{[footer defined]}%
        \csname lilyfooter\texsuffix\endcsname%
\else
        \message{[footer empty]}
        \csname%
        nolilyfooter\texsuffix\endcsname
\fi

% fix chord.cc::banter_str before removing these
\input fetdefs

\endinput
