%!PS-Adobe-1.0: lilyponddefs

% hmm
/setgray { 1 add } bind def

/xoffset 30 def
/yoffset 700 def
/staffrulethickness 1 def
/staffheight 20 def

/placebox
{
	/object exch def
	gsave
	%exch translate
	translate
	0 0 moveto
	object
	grestore
} bind def

/settext % '(' text ')'
{
	gsave
	% urg
	/Times-Roman findfont 12 scalefont setfont
	show
	grestore
} bind def

/setfinger % '(' text ')'
{
	gsave
	% urg
	/feta-nummer5 findfont 12 scalefont setfont
	show
	grestore
} bind def

/setitalic % '(' text ')'
{
	gsave
	% urg
	/Times-Italic findfont 12 scalefont setfont
	show
	grestore
} bind def

/vrule % width height depth
{
	gsave
	3 -1 roll setlinewidth
	neg 0 exch moveto
	0 exch lineto stroke
	grestore
} bind def

/draw_stem % kern width height depth
{
	gsave
	4 -1 roll neg 0 translate
	vrule
	grestore
} bind def

/widthbar % height width
{
	gsave
	setlinewidth
	2 div dup neg 0 exch moveto
	0 exch lineto stroke
	2 div
	grestore
} bind def

/thickbar % height
{
	stafflinethickness 2 mul widthbar
} bind def

/thinbar % height
{
	stafflinethickness 1.6 mul widthbar
} bind def

/maatstreep % height
{
	thinbar
} bind def

/fatdoublebar
{
	thickbar
} bind def

/finishbar
{
	thickbar
} bind def

/generalmeter % num den
{
	pop pop
} bind def

/pianobrace % '(' char ')'
{
	gsave
	/feta-braces20 findfont 12 scalefont setfont%
	show
	grestore
} bind def

/doublebar
{
	thinbar
} bind def

/repeatbar
{
	thickbar
} bind def

/repeatbarstartrepeat
{
	thickbar
} bind def

/startrepeat
{
	thickbar
} bind def

/stoprepeat
{
	thickbar
} bind def

/start_line
{ 
	gsave
	xoffset yoffset translate
} bind def

/stop_line
{ 
	/object exch def
	0 0 moveto pathbbox exch pop sub exch pop
	object
	grestore
	yoffset add /yoffset exch def
	% urg...
	yoffset staffheight 8 mul sub /yoffset exch def
} bind def

/unknown { (U) show} bind def
/empty {(E) show} bind def

/turnOnExperimentalFeatures { } bind def

/rulesym % thick length
{
	gsave
	exch setlinewidth
	0 lineto stroke
	grestore
} bind def

(lily.ps) findlibfile 
{
	exch pop //systemdict /run get exec
} 
{ 
	/undefinedfilename signalerror 
} ifelse

stafflinethickness setlinewidth

% see if we're there...
% 10 setlinewidth 0 0 moveto 400 800 lineto stroke
