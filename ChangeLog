2004-08-23  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* lily/metronome-engraver.cc (stop_translation_timestep): call
	typeset_grob().

2004-08-20  Mats Bengtsson  <mabe@drongo.s3.kth.se>

	* scripts/lilypond.py (ly_paper_to_latexpaper): Only set the
	height of head and foot if textheight is not set, otherwise let
	the geometry package make evenly sized head and foot.

2004-08-18  Mats Bengtsson  <mabe@drongo.s3.kth.se>

	* lily/clef-engraver.cc: Add forceClef to list of read properties.

2004-07-30  Mats Bengtsson  <mabe@drongo.s3.kth.se>

	* Documentation/user/changing-defaults.itely (Horizontal spacing): 
	Correct the documentation of the spacing parameters. 

2004-07-14  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* lily/lyric-engraver.cc: mention LyricText

2004-07-13  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* scm/translation-functions.scm (format-metronome-markup): backport.

	* scm/define-markup-commands.scm (general-align): add  function.

2004-07-09  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* lily/axis-group-engraver.cc (process_acknowledged_grobs):
	backport.

2004-07-05  Jan Nieuwenhuizen  <janneke@gnu.org>

	* ChangeLog: Remove pre-2.1 changes.

	* Documentation/misc/ChangeLog-2.1: New file.

2004-07-05  Mats Bengtsson  <mabe@drongo.s3.kth.se>

	* input/test/chords-below-volta-bracket.ly,
	input/test/no-key-at-end-of-line.ly: New example files (FAQs)

2004-07-05  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* lily/beam-quanting.cc (score_forbidden_quants): backport, more
	leniency to make sit (upstem) on outer line not be forbidden.

2004-07-04  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* VERSION: release 2.2.4
	
	* ly/engraver-init.ly: add Volta_engraver.

	* debian/GNUmakefile (EXTRA_DIST_FILES): remove lilypond.dirs.

	* scripts/lilypond-book.py (Lilypond_snippet.output_texinfo): add
	\n to texidoc.

	* input/test/volta-chord-names.ly: new file.

	* lily/volta-bracket.cc (print): handle no bars situation. 

	* lily/volta-engraver.cc (staff_eligible): backport. Always
	use voltaOnThisStaff as override.
	(stop_translation_timestep): backport: set bounds. 

	* scm/define-grobs.scm (all-grob-descriptions): backport (0 . 0)
	fix for clef-8.

2004-07-01  Jan Nieuwenhuizen  <janneke@gnu.org>

	* scripts/abc2ly.py: Backport.

2004-06-22  Jan Nieuwenhuizen  <janneke@gnu.org>

	* debian/: Apply Debian patch (Anthony Fok).

	* debian/GNUmakefile (EXTRA_DIST_FILES): 
	(CONF_FILES): Update.

2004-06-21  Jan Nieuwenhuizen  <janneke@gnu.org>

	* debian/: Remove cruft (requested Anthony Fok.)

2004-06-20  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* VERSION: 2.2.3

	* po/tr.po: turkish translation.

2004-06-19  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* scripts/lilypond.py (make_include_option): set lilypond_error_p.

	* lily/bar-line.cc (compound_barline): backport ||: fix.

2004-06-12  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* ly/engraver-init.ly (AncientRemoveEmptyStaffContext): remove
	override for Beam::position-callbacks in grace.  Fixes:
	weird-stem-size-grace

2004-06-11  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* lily/accidental-engraver.cc (number_accidentals_from_sig):
	backport additional fixes.

2004-06-07  Mats Bengtsson  <mabe@drongo.s3.kth.se>

	* scripts/lilypond-book.py (latex_filter_cmd): Use a temporary
	file since 'latex "\\nonstopmode \input /dev/stdin"' doesn't work
	in Cygwin. Warning: ugly hard coded file name used.

2004-06-04  Mats Bengtsson  <mabe@drongo.s3.kth.se>

	* Documentation/user/notation.itely (Instrument transpositions):
	Correct the name of the instrumentTransposition property.

2004-06-03  Mats Bengtsson  <mabe@drongo.s3.kth.se>

	* scripts/lilypond-book.py (output): Bug fix so preLilyPondExample
	and postLilyPondExample are called when defined.

2004-06-01  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* lily/accidental-engraver.cc (update_local_key_signature): fold
	repetitive code.
	(number_accidentals_from_sig): backport code from 2.3. Fixes:
	custom-key-signatures.ly

2004-05-31  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* VERSION: 2.2.2

	* lily/tie-performer.cc (stop_translation_timestep): reset
	ties_created_. Fixes bugs/midi-tie.ly,
	bugs/midi-lyrics-barcheck.ly
	
	* scm/define-grobs.scm (all-grob-descriptions): remove
	break-visibility. Should fix: bugs/piano-repeat.ly

	* lily/chord-tremolo-engraver.cc (stop_translation_timestep):
	reset repeat_ after setting stem tremolo. Should fix:
	bugs/tremolo-repeat.ly

	* lily/accidental-engraver.cc (set_property_on_children): copy key
	signature setting. Backport. Should fix:
	bugs/custom-key-signatures.ly

2004-05-27  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* lily/context-def.cc (filter_engravers): backport.  Fixes:
	crash-bar-number.ly

	* lily/percent-repeat-engraver.cc (try_music): backport. Fixes:
	skipbars-percent-repeat.ly

2004-05-19  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* lily/rest-collision.cc (do_shift): handle (0-down, 2-up) case
	too.

2004-05-04  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* lily/ottava-bracket.cc (print): fix ottava on rests.

2004-05-03  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* VERSION: release 2.2.1
	
	* scm/music-functions.scm (set-accidental-style): use GrandStaff
	iso. PianoStaff.

2004-05-02  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* Documentation/user/lilypond.tely (Top): update version number.

	* lily/lyric-engraver.cc (get_voice_to_lyrics): go higher when
	finding Voice context. 

	* Documentation/user/music-glossary.tely (Top): replace table strong
	with table samp.

	* lily/stem.cc (get_default_stem_end_position): handle dir==0
	case. This fixes a bugs/tremolo-repeat

	* Documentation/user/introduction.itely (About this manual): fix
	URLS.

2004-04-20  Jan Nieuwenhuizen  <janneke@gnu.org>

	* scripts/lilypond.py: Handle --set=fontencoding=FONTENC (default:
	unset) and --set=inputencoding=INPUTENC (default: latin1).

2004-04-09  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* scripts/convert-ly.py: backport of #'(markup).

2004-04-01  Han-Wen Nienhuys   <hanwen@xs4all.nl>

	* VERSION (PACKAGE_NAME): release 2.2.0
